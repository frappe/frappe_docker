# Production Environment Configuration for ERPNext
# Reference: https://github.com/frappe/frappe_docker/blob/main/docs/environment-variables.md

# ============================================
# ERPNext Version
# ============================================
ERPNEXT_VERSION=v15.82.1

# ============================================
# Database Configuration
# ============================================
# IMPORTANT: Change this to a strong password
DB_PASSWORD=CHANGEME_strong_password_16plus_chars
DB_HOST=mariadb-database
DB_PORT=3306

# Only if you use docker secrets for the db password
# DB_PASSWORD_SECRETS_FILE=

# ============================================
# Redis Configuration
# ============================================
# These will be set by the compose file overrides
# REDIS_CACHE=redis-cache:6379
# REDIS_QUEUE=redis-queue:6379

# ============================================
# SSL/TLS Configuration
# ============================================
# IMPORTANT: Change this to your email for Let's Encrypt notifications
LETSENCRYPT_EMAIL=CHANGEME_admin@yourdomain.com

# IMPORTANT: Change this to your actual domain(s)
# Multiple sites should be separated by comma
# Example: SITES=`erp.example.com`,`crm.example.com`
SITES=CHANGEME_`erp.yourdomain.com`

# ============================================
# Network Configuration
# ============================================
# Used for multi-bench setups
ROUTER=erpnext-production
BENCH_NETWORK=erpnext-production

# ============================================
# Site Resolution
# ============================================
# Default value is `$$host` which resolves site by host. 
# For example, if your host is `example.com`, site's name should be `example.com`
# Leave empty to use default behavior
FRAPPE_SITE_NAME_HEADER=

# ============================================
# Port Configuration
# ============================================
# Default value is `8080` - usually not needed in production with Traefik
# HTTP_PUBLISH_PORT=8080

# ============================================
# Nginx/Proxy Configuration
# ============================================
# Set IP address as trusted upstream address
# Default: 127.0.0.1
UPSTREAM_REAL_IP_ADDRESS=127.0.0.1

# Set request header field for client IP
# Default: X-Forwarded-For
UPSTREAM_REAL_IP_HEADER=X-Forwarded-For

# Enable/disable recursive search for real IP
# Allowed values: on|off
# Default: off
UPSTREAM_REAL_IP_RECURSIVE=off

# Proxy read timeout for long-running requests
# Default: 120s
PROXY_READ_TIMEOUT=120s

# Maximum upload file size
# Default: 50m
CLIENT_MAX_BODY_SIZE=50m

# ============================================
# Custom Image (Optional)
# ============================================
# If you're using custom images with additional apps
# CUSTOM_IMAGE=frappe/erpnext
# CUSTOM_TAG=v15.82.1
# PULL_POLICY=always

# ============================================
# Restart Policy
# ============================================
RESTART_POLICY=unless-stopped